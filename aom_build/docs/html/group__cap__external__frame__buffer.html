<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AOMedia Codec SDK: External Frame Buffer Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AOMedia Codec SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">External Frame Buffer Functions<div class="ingroups"><a class="el" href="group__codec.html">Common Algorithm Interface</a> &raquo; <a class="el" href="group__decoder.html">Decoder Algorithm Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1818a812e4d1e70eeafbe5b0ee538d6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__codec.html#gaaae61e0f8663e6137f1e228757248e7c">aom_codec_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cap__external__frame__buffer.html#ga1818a812e4d1e70eeafbe5b0ee538d6e">aom_codec_set_frame_buffer_functions</a> (<a class="el" href="group__codec.html#ga9a1d27f9742d9f70783e3c6cb849b5b4">aom_codec_ctx_t</a> *ctx, <a class="el" href="aom__frame__buffer_8h.html#a01fdfbbc9be8b320437a49d3de07814d">aom_get_frame_buffer_cb_fn_t</a> cb_get, <a class="el" href="aom__frame__buffer_8h.html#a1803cd0766dc297d88172f174fbb6ab5">aom_release_frame_buffer_cb_fn_t</a> cb_release, void *cb_priv)</td></tr>
<tr class="memdesc:ga1818a812e4d1e70eeafbe5b0ee538d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass in external frame buffers for the decoder to use.  <a href="#ga1818a812e4d1e70eeafbe5b0ee538d6e">More...</a><br /></td></tr>
<tr class="separator:ga1818a812e4d1e70eeafbe5b0ee538d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The following section is required to be implemented for all decoders that advertise the AOM_CODEC_CAP_EXTERNAL_FRAME_BUFFER capability. Calling this function for codecs that don't advertise this capability will result in an error code being returned, usually AOM_CODEC_ERROR.</p>
<dl class="section note"><dt>Note</dt><dd>Currently this only works with AV1. </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1818a812e4d1e70eeafbe5b0ee538d6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__codec.html#gaaae61e0f8663e6137f1e228757248e7c">aom_codec_err_t</a> aom_codec_set_frame_buffer_functions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__codec.html#ga9a1d27f9742d9f70783e3c6cb849b5b4">aom_codec_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aom__frame__buffer_8h.html#a01fdfbbc9be8b320437a49d3de07814d">aom_get_frame_buffer_cb_fn_t</a>&#160;</td>
          <td class="paramname"><em>cb_get</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aom__frame__buffer_8h.html#a1803cd0766dc297d88172f174fbb6ab5">aom_release_frame_buffer_cb_fn_t</a>&#160;</td>
          <td class="paramname"><em>cb_release</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_priv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pass in external frame buffers for the decoder to use. </p>
<p>Registers functions to be called when libaom needs a frame buffer to decode the current frame and a function to be called when libaom does not internally reference the frame buffer. This set function must be called before the first call to decode or libaom will assume the default behavior of allocating frame buffers internally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>Pointer to this instance's context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_get</td><td>Pointer to the get callback function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_release</td><td>Pointer to the release callback function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_priv</td><td>Callback's private data</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__codec.html#ggaaae61e0f8663e6137f1e228757248e7caf145dc2f86014a08ebad36ac2b140001" title="Operation completed without error. ">AOM_CODEC_OK</a></td><td>External frame buffers will be used by libaom. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__codec.html#ggaaae61e0f8663e6137f1e228757248e7ca0c6ff8587f8bcc0429aecfa9fe2762df" title="An application-supplied parameter is not valid. ">AOM_CODEC_INVALID_PARAM</a></td><td>One or more of the callbacks were NULL. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__codec.html#ggaaae61e0f8663e6137f1e228757248e7ca20f818786bc939e6e58192f6a150d691" title="Unspecified error. ">AOM_CODEC_ERROR</a></td><td>Decoder context not initialized, or algorithm not capable of using external frame buffers.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>When decoding AV1, the application may be required to pass in at least <a class="el" href="aom__frame__buffer_8h.html#a9470ef667d6ce967e93d9e528d523919" title="The maximum number of work buffers used by libaom. Support maximum 4 threads to decode video in paral...">AOM_MAXIMUM_WORK_BUFFERS</a> external frame buffers. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
